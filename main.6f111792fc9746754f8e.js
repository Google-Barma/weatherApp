(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"9+d6":function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var o,c=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,u="function",l=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="weather__block">\n    <div class="weather__title-block">\n        <h3 class="weather__title">'+l(typeof(o=null!=(o=s(n,"name")||(null!=t?s(t,"name"):t))?o:i)===u?o.call(c,{name:"name",hash:{},data:a,loc:{start:{line:3,column:35},end:{line:3,column:43}}}):o)+'</h3>\n        <p class="weather__date">'+l(typeof(o=null!=(o=s(n,"dateNow")||(null!=t?s(t,"dateNow"):t))?o:i)===u?o.call(c,{name:"dateNow",hash:{},data:a,loc:{start:{line:4,column:33},end:{line:4,column:44}}}):o)+'</p>\n    </div>\n    <div class="weather__text-container">\n        <p class="weather__temp">'+l(typeof(o=null!=(o=s(n,"currentTemp")||(null!=t?s(t,"currentTemp"):t))?o:i)===u?o.call(c,{name:"currentTemp",hash:{},data:a,loc:{start:{line:7,column:33},end:{line:7,column:48}}}):o)+'&#176;</p>\n        <p class="weather__max-temp">Макс. температура: '+l(typeof(o=null!=(o=s(n,"maxTemp")||(null!=t?s(t,"maxTemp"):t))?o:i)===u?o.call(c,{name:"maxTemp",hash:{},data:a,loc:{start:{line:8,column:56},end:{line:8,column:67}}}):o)+'&#176;</p>\n        <p class="weather__max-temp">Мин. температура: '+l(typeof(o=null!=(o=s(n,"minTemp")||(null!=t?s(t,"minTemp"):t))?o:i)===u?o.call(c,{name:"minTemp",hash:{},data:a,loc:{start:{line:9,column:55},end:{line:9,column:66}}}):o)+'&#176;</p>\n        <p class="weather__description">'+l(typeof(o=null!=(o=s(n,"weatherDescription")||(null!=t?s(t,"weatherDescription"):t))?o:i)===u?o.call(c,{name:"weatherDescription",hash:{},data:a,loc:{start:{line:10,column:40},end:{line:10,column:62}}}):o)+"</p>\n\n    </div>\n    <img src="+l(typeof(o=null!=(o=s(n,"weatherDescriptionIcon")||(null!=t?s(t,"weatherDescriptionIcon"):t))?o:i)===u?o.call(c,{name:"weatherDescriptionIcon",hash:{},data:a,loc:{start:{line:13,column:13},end:{line:13,column:39}}}):o)+' alt="weather image" class="weather__image" width="200">\n\n</div>'},useData:!0})},"Dv/5":function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("Dv/5");var r={queryForm:document.querySelector(".js-town-query__form"),currentCityWeatherWrapper:document.querySelector(".js-current-city__weather")};n("iPZ8"),n("kypl"),n("D/wG"),n("JBxO"),n("FdtR"),n("wcNg");function a(e,t,n,r,a,o,c){try{var i=e[o](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function i(e){a(c,r,o,i,u,"next",e)}function u(e){a(c,r,o,i,u,"throw",e)}i(void 0)}))}}var c,i={apiKey:"&appid=e8a30fe387c8d6d768122e7ce2ffee5c",baseURL:"api.openweathermap.org/data/2.5/weather",queryCityName:"",cityCurrentWeather:{},currentWeather:{},currentPosition:{},fetchFetchCurrentWeatherInCity:function(){var e=this;return o(regeneratorRuntime.mark((function t(){var n,r,a,o,c,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://api.openweathermap.org/data/2.5/weather?q="+e.queryCityName+"&units=metric&lang=ru&appid=e8a30fe387c8d6d768122e7ce2ffee5c",t.prev=1,t.next=4,fetch(n);case 4:return r=t.sent,t.next=7,r.json();case 7:return a=t.sent,o=a.weather,c=a.main,i=a.name,a.sys,a.timezone,e.getWeatherData(e.cityCurrentWeather,{weather:o,main:c,name:i}),t.abrupt("return",e.cityCurrentWeather);case 17:t.prev=17,t.t0=t.catch(1),alert("Нет такого города");case 20:case"end":return t.stop()}}),t,null,[[1,17]])})))()},fetchCurrentGeolocationWeather:function(){var e=this;return o(regeneratorRuntime.mark((function t(){var n,r,a,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://raw.githubusercontent.com/Google-Barma/weatherApp/master/src/temp.json",t.prev=1,t.next=4,fetch("https://raw.githubusercontent.com/Google-Barma/weatherApp/master/src/temp.json");case 4:return n=t.sent,t.next=7,n.json();case 7:return r=t.sent,a=r.weather,o=r.main,c=r.name,r.sys,r.timezone,e.getWeatherData(e.currentWeather,{weather:a,main:o,name:c}),t.abrupt("return",e.currentWeather);case 17:t.prev=17,t.t0=t.catch(1),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,17]])})))()},setCityNameToUrl:function(e){this.queryCityName=e},getWeatherData:function(e,t){var n=t.weather,r=t.main,a=t.name;e.currentTemp=Math.round(r.temp),e.maxTemp=Math.round(r.temp_max),e.minTemp=Math.round(r.temp_min),e.weatherDescription=n[0].description,e.name=a,e.weatherDescriptionIcon="https://openweathermap.org/img/wn/"+n[0].icon+"@2x.png",e.dateNow=this.getLocaleDateNow()},getLocaleDateNow:function(){return(new Date).toLocaleDateString()}},u=n("9+d6"),l=n.n(u);function s(e){var t=l()(e);r.currentCityWeatherWrapper.insertAdjacentHTML("beforeend",t)}r.queryForm.addEventListener("submit",(function(e){e.preventDefault(),function(e){var t=e.target.elements.query.value;i.setCityNameToUrl(t)}(e),i.fetchFetchCurrentWeatherInCity().then((function(e){s(e),console.log(i.currentPosition.latitude)})).catch((function(e){return console.log(e)}))})),(c={timeout:5e3},new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t,c)}))).then((function(e){i.currentPosition=e.coords})).catch((function(e){console.log(e)})),setTimeout((function(){i.fetchCurrentGeolocationWeather().then((function(e){s(e)})).catch((function(e){return console.log(e)}))}),100)}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.6f111792fc9746754f8e.js.map